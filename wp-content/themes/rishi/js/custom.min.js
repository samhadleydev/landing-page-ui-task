/*! rishi 1.0.0 2021-08-09 8:10:33 PM */

import{onDocumentLoaded}from"../rt-customizer-builder/src/js/helpers";import $ from"jquery";onDocumentLoaded(()=>{var t,e,n,i,o,r,a,s,l,c="1"!=rishi_custom.rtl,d=document.querySelector(".header-search-btn"),u=document.querySelector(".search-toggle-form"),h=document.querySelector(".btn-form-close"),p=document.querySelector(".search-field"),m=document.querySelector(".search-submit");function f(){clearInterval(s),clearInterval(l),u.fadeOut=function(t){var e=1;u.style.opacity=1,l=setInterval(function(){0<e?e-=.01:e<0&&(u.style.opacity=0,u.style.display="none",clearInterval(l)),u.style.opacity=e},t)},u.fadeOut(5)}function y(){var t=window.innerWidth;console.log(t);var e=t-20,n=document.querySelector(".rishi-has-blocks .site-content > .rishi-container").clientWidth-20;console.log(n),null!==document.querySelector(".rishi-has-blocks .site-main .entry-content")&&(r=document.querySelector(".rishi-has-blocks .site-main .entry-content").clientWidth);var i=(parseInt(r)-parseInt(e))/2,o=(parseInt(r)-parseInt(n))/2,t=(parseInt(r),parseInt(e),document.querySelector(".rishi-has-blocks.full-width .site-main .entry-content .alignfull")),r=document.querySelector(".rishi-has-blocks.full-width .site-main .entry-content .alignwide");null!==t&&Object.assign(t.style,{maxWidth:e+"px",width:e+"px",marginLeft:i-1.5+"px"}),null!==r&&Object.assign(r.style,{maxWidth:n+"px",width:n+"px",marginLeft:o+"px"})}null!==d&&(d.addEventListener("click",function(){p.focus(),clearInterval(s),clearInterval(l),u.fadeIn=function(t){var e=0;u.style.display="block",u.style.opacity=0,s=setInterval(function(){e<1?e+=.01:1===e&&clearInterval(s),u.style.opacity=e},t)},u.fadeIn(5),p.focus()}),h.addEventListener("click",function(){f(),p.blur()})),document.addEventListener("keyup",function(t){"Escape"==t.key&&f()}),null!==p&&p.addEventListener("click",function(t){t.stopPropagation()}),null!==m&&m.addEventListener("click",function(t){t.stopPropagation()}),null!==u&&u.addEventListener("click",function(t){f()}),window.addEventListener("scroll",()=>{var t=document.querySelector(".to_top");t&&(100<document.body.scrollTop||100<document.documentElement.scrollTop?t.classList.add("active"):t.classList.remove("active"))}),document.querySelector(".to_top")&&document.querySelector(".to_top").addEventListener("click",()=>{window.scroll({top:0,behavior:"smooth"})}),"masonry_grid"==rishi_custom.bp_layout&&(0<$(".blog").length||0<$(".search").length||0<$(".archive").length)&&$(".rishi-container-wrap").imagesLoaded(function(){$(".rishi-container-wrap").masonry({itemSelector:".rishi-post",isOriginLeft:c})}),window.addEventListener("resize",function(){y()}),window.addEventListener("load",function(){y()}),t=parseInt(rishi_custom.startPage)+1,e=parseInt(rishi_custom.maxPages),n=rishi_custom.nextLink,"infinite_scroll"==rishi_custom.autoLoad&&($(".ajax-pagination").before('<div class="pagination_holder" style="display: none;"></div>'),o=i=!1,(0<$(".blog").length||0<$(".search").length||0<$(".archive").length)&&$(window).on("scroll",function(){i||o||$(".rishi-post").last().rishiIsOnScreen()&&(t<=e?(i=!0,$(".pagination_holder").load(n+" .rishi-post",function(){t++,i=!1,n=n.replace(/(\/?)page(\/|d=)[0-9]+/,"$1page$2"+t),r=$(".pagination_holder").html(),$(".pagination_holder").html(""),"masonry_grid"==rishi_custom.bp_layout?(a=$(r).filter("article.rishi-post"),$(".rishi-container-wrap").append(a).imagesLoaded(function(){$(".rishi-container-wrap").masonry("appended",a)})):$(".site-main article:last").after(r),$(document).trigger("blog_infiniteScroll_ajax")})):o=!0)}),$(".pagination").remove())}),jQuery.fn.rishiIsOnScreen=function(){var t=jQuery(window),e={top:t.scrollTop(),left:t.scrollLeft()};e.right=e.left+t.width(),e.bottom=e.top+t.height();t=this.offset();return t.right=t.left+this.outerWidth(),t.bottom=t.top+this.outerHeight(),!(e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)};